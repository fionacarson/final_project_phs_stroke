---
title: "Untitled"
format: revealjs
editor: visual
---

## Quarto

Quarto enables you to weave together content and executable code into a
finished presentation. To learn more about Quarto presentations see
<https://quarto.org/docs/presentations/>.

## Bullets

When you click the **Render** button a document will be generated that
includes:

-   Content authored with markdown
-   Output from executable code

## Code

When you click the **Render** button a presentation will be generated
that includes both content and the output of embedded code. You can
embed code like this:

```{r}
1 + 1
```

## Most Common CVD Diagnosis

Cerebrovascular disease - data divided into 4 categories

-   Stroke
-   Subarachnoid haemorrhage
-   TIAs and related syndromes (mini stroke)
-   Other CVD

::: columns
::: {.column width="50%"}
```{r}
library(tidyverse)
library(here)

activity_hb <- read_csv(here("clean_data/activity_hb.csv"))
source(here("theme_palette_etc/plot_theme.R"))

activity_hb %>% 
  filter(!financial_year %in% c("2009/10", "2010/11", "2011/12")) %>% 
  filter(hbr == "S92000003" &
          age == "All" &
          sex == "All" &
          admission_type == "All" &
          diagnosis != "Cerebrovascular Disease") %>% 
  group_by(diagnosis) %>% 
  summarise(mean_num_discharges = mean(number_of_discharges)) %>% 
  mutate(diagnosis = fct_reorder(diagnosis, mean_num_discharges)) %>% 
  ggplot(aes(diagnosis, mean_num_discharges)) +
  geom_col(fill = c("#446e9b", "#999999", "#3cb521", "#e83e8c")) +
  theme_fc() +
  labs(title = "Discharges by Cerebrovascular Disease Diagnosis",
       subtitle = "10 year average", 
       y = "Annual Number of Discharges",
       x = "CVD Diagnosis") +
  coord_flip() +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 10)) 
```
:::

::: {.column width="50%"}
```{r}
mortality_hb <- read_csv(here("clean_data/mortality_hb.csv"))

mortality_hb %>% 
  filter(year >= 2012) %>% 
  filter(hbr == "S92000003" &
          age == "All" &
          sex == "All" &
          diagnosis != "Cerebrovascular Disease") %>% 
  group_by(diagnosis) %>% 
  summarise(mean_num_deaths = mean(number_of_deaths)) %>% 
  mutate(diagnosis = fct_reorder(diagnosis, mean_num_deaths)) %>% 
  ggplot(aes(diagnosis, mean_num_deaths)) +
  geom_col(fill = c("#446e9b", "#999999", "#3cb521")) +
  theme_fc() +
  labs(title = "Cerebrovascular Disease Mortality",
       subtitle = "10 year average", 
       y = "Annual Number of Deaths",
       x = "CVD Diagnosis") +
  coord_flip() +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 10)) 

```
:::
:::
